<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Interesting Function #3 Test - Ajax Request</title>
  <meta name="viewport" content="width=device-width">
</head>
<body>
  <h1>Interesting Function #3 Test - Ajax Request</h1>
  <p>
    The button triggers an Ajax GET request, which sends and image name, and triggers a server-side callback.<br/>
    The callback returns the image file, which is then shown on this page.</br>
  </p>
  <div id="ajax-form">
    <div>
      <button id="test-two-button">GET /test/two (no parameters)</button>
    </div>
    <div>
      <input id="a-input" placeholder=":a">
      <input id="b-input" placeholder=":b">
      <button id="test-three-button">POST /test/three (with input)</button>
    </div>
  </div>
  <div id="data-container"></div>

  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>

  <script>
    $(document).ready(function () {
      'use strict';

      $('#ajax-form').submit(function () { return false; });

      var container = $('#data-container');

      $('#test-two-button').click(function () {
        $.get('/test/two', function (data) {
          var list = $('<ul/>');
          container.empty().append(list);
          for (var key in data) {
            if (data.hasOwnProperty(key)) {
              list.append('<li>' + key + ': ' + data[key] + '</li>');
            }
          }
        });
      });

      $('#test-three-button').click(function () {
        $.post(
          '/test/three', // URL
          { 'a': $('#a-input').val(), 'b': $('#b-input').val() },  // Data
          function (data) {  // Success function.
            var list = $('<ul/>');
            container.empty().append(list);
            for (var key in data) {
              if (data.hasOwnProperty(key)) {
                list.append('<li>' + key + ': ' + data[key] + '</li>');
              }
            }
          }
        );
      });
    });
  </script>
</body>
</html>

